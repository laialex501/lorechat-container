<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Direct-connected device onboarding - Managed integrations for AWS IoT Device Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="getting-started-known-sh-device-onboarding" /><meta name="default_state" content="getting-started-known-sh-device-onboarding" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" /><meta name="description" content="The following steps outline the workflow for onboarding a direct-connected device to managed integrations." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Managed integrations for AWS IoT Device Management" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Insert abstract text" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" hreflang="x-default" /><meta name="feedback-item" content="IoT Docs" /><meta name="this_doc_product" content="Managed integrations for AWS IoT Device Management" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iot-device-management'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Direct-connected device onboarding" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Direct-connected device onboarding - Managed integrations for AWS IoT Device Management</title><meta name="pdf" content="/pdfs/iot-mi/latest/devguide/iot-mi-dg.pdf#getting-started-known-sh-device-onboarding" /><meta name="rss" content="aws-iot-managed-integrations-doc-history.rss" /><meta name="forums" content="https://repost.aws/tags/TATUn2JZUnTBihL4AamE-Y-g" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html" /><meta name="keywords" content="managed integrations,Managed integrations,IoT,device,Begin" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Managed integrations",
        "item" : "https://docs.aws.amazon.com/iot-device-management/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/iot-mi/latest/devguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Getting started with managed integrations for AWS IoT Device Management",
        "item" : "https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Direct-connected device onboarding",
        "item" : "https://docs.aws.amazon.com/iot-mi/latest/devguide/getting-started.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/iot-mi/latest/devguide/iot-mi-dg.pdf#getting-started-known-sh-device-onboarding" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/iot-device-management/index.html">Managed integrations</a><a href="what-is-managedintegrations.html">Developer Guide</a></div><div id="page-toc-src"><a href="#known-sh-device-configure-encryption-key">(Optional) Configure Encryption
     Key</a><a href="#known-sh-device-create-custom-endpoint">Register a Custom Endpoint
     (Mandatory)</a><a href="#known-sh-device-aws-iot-smart-home-device-provisioning">Device Provisioning
     (Mandatory)</a><a href="#known-sh-device-unified-sdk">Managed integrations End device SDK (Mandatory)</a><a href="#known-sh-device-device-pre-association">Device Pre-Association with Credential
     Locker (Optional)</a><a href="#known-sh-device-device-discovery">Device Discovery and Onboarding
     (Optional)</a><a href="#known-sh-device-device-command-control">Device Command and Control</a><a href="#known-sh-device-onboarding-api-index">API Index</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Managed integrations for AWS IoT Device Management is in preview release and is subject to change. For access, contact us from the <a href="https://console.aws.amazon.com/iot/home#/managed-integrations/intro" rel="noopener noreferrer" target="_blank"><span>managed integrations console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></awsui-alert><h1 class="topictitle" id="getting-started-known-sh-device-onboarding">Direct-connected device
    onboarding</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The following steps outline the workflow for onboarding a direct-connected device to
   managed integrations.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><p><a href="#known-sh-device-configure-encryption-key">(Optional) Configure Encryption
     Key</a></p></li><li><p><a href="#known-sh-device-create-custom-endpoint">Register a Custom Endpoint
     (Mandatory)</a></p></li><li><p><a href="#known-sh-device-aws-iot-smart-home-device-provisioning">Device Provisioning
     (Mandatory)</a></p></li><li><p><a href="#known-sh-device-unified-sdk">Managed integrations End device SDK (Mandatory)</a></p></li><li><p><a href="#known-sh-device-device-pre-association">Device Pre-Association with Credential
     Locker (Optional)</a></p></li><li><p><a href="#known-sh-device-device-discovery">Device Discovery and Onboarding
     (Optional)</a></p></li><li><p><a href="#known-sh-device-device-command-control">Device Command and Control</a></p></li><li><p><a href="#known-sh-device-onboarding-api-index">API Index</a></p></li></ul></div>
   <h2 id="known-sh-device-configure-encryption-key">(Optional) Configure Encryption
     Key</h2>
   <p>Security is of paramount importance for data routed between the end-user, managed integrations, and
    third-party clouds. One of the methods we support to protect your device data is end-to-end
    encryption leveraging a secure encryption key for routing your data.</p>
   <p>As a customer of managed integrations, you have the following two options for using encryption
    keys:</p>
   <div class="itemizedlist">
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p>Use the default managed integrations-managed encryption key.</p>
    </li><li class="listitem">
     <p>Provide an AWS KMS key that you created.</p>
    </li></ul></div>
   <p>Calling the <code class="code">PutDefaultEncryptionConfiguration</code> API grants you access to update
    which encryption key option you want to use. By default, managed integrations uses the default managed integrations
    managed encryption key. You can update your encryption key configuration at any time using the
     <code class="code">PutDefaultEncryptionConfiguration</code> API.</p>
   <p>Additionally, calling the <code class="code">DescribeDefaultEncryptionConfiguration</code> API command
    will return information about the encryption configuration for the AWS account in the default or
    specified region.</p>
   <p>For more information on end-to-end encryption with managed integrations, see <a href="./data-protection.html#encryption-rest">Data encryption at rest for managed integrations</a>.</p>
   <p>For more information on the AWS KMS service, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">AWS Key Management Service</a></p>
   <p>APIs used in this step:</p>
   <div class="itemizedlist">
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">PutDefaultEncryptionConfiguration</code></p>
    </li><li class="listitem">
     <p><code class="code">DescribeDefaultEncryptionConfiguration</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-create-custom-endpoint">Register a Custom Endpoint
     (Mandatory)</h2>
   <p>Bidirectional communication between your device and managed integrations facilitates the following
    items:</p>
   <div class="itemizedlist">
     
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p>Prompt routing of device commands.</p>
    </li><li class="listitem">
     <p>Your physical device and managed integrations managed thing digital representation states are
      aligned.</p>
    </li><li class="listitem">
     <p>Secure transmission of your device data.</p>
    </li></ul></div>
   <p>To connect to managed integrations, a device requires a dedicated endpoint to route traffic
    through. Call the <code class="code">RegisterCustomEndpoint</code> API to create this endpoint, in
    addition to configuring how the server trust is managed. The custom endpoint will be stored in
    the device SDK for the local hub or Wi-Fi device connecting to managed integrations.</p>
   <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Request a quota increase from 0 to 1 in the Service Quotas console if you receive an error that states <b>RegisterCustomEndpoint failed</b>. <a href="https://console.aws.amazon.com/servicequotas/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/servicequotas/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p></div></div>
   <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>This step can be skipped for cloud-connected devices.</p></div></div>
   <p>APIs used in this step:</p>
   <div class="itemizedlist">
     
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">RegisterCustomEndpoint</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-aws-iot-smart-home-device-provisioning">Device Provisioning
     (Mandatory)</h2>
   <p>Device provisioning establishes a link between your device or fleet of devices and
    managed integrations for future bidirectional communication. Call the
     <code class="code">CreateProvisioningProfile</code> API to create a provisioning template and claim
    certificate. A provisioning template is a document that defines the set of resources and
    policies applied to a device during the provisioning process. It specifies how devices should be
    registered and configured when they connect to managed integrations for the first time, automating the
    device setup process to ensure that each device is securely and consistently integrated into
    AWS IoT with the appropriate permissions, policies, and configurations. A claim certificate is a
    temporary certificate used during fleet provisioning and only when the unique device certificate
    is not preinstalled on the device during manufacturing before delivered to the end-user.</p>
   <p>The following list outlines the device provisioning workflows and the differences between
    each:</p>
   <div class="itemizedlist">
     
    
     
   <ul class="itemizedlist"><li class="listitem">
     <p><b>Single device provisioning</b></p>
     <div class="itemizedlist">
       
       
       
       
     <ul class="itemizedlist"><li class="listitem">
       <p>Provisioning a single device with managed integrations.</p>
      </li><li class="listitem">
       <p><b>Workflow</b></p>
       <div class="itemizedlist">
         
       <ul class="itemizedlist"><li class="listitem">
         <p><code class="code">CreateManagedThing</code>: Create a new managed thing (device) with managed integrations,
          based on the provisioning template.</p>
        </li></ul></div>
      </li><li class="listitem">
       <p>For more information on the end-device software development kit (SDK), see <a href="./managedintegrations-sdk-device-whatis.html">What is the End device SDK?</a>.</p>
      </li><li class="listitem">
       <p>For more information on single device provisioning, see <a href="https://docs.aws.amazon.com/iot/latest/developerguide/single-thing-provisioning.html">Single thing provisioning</a>.</p>
      </li></ul></div>
    </li><li class="listitem">
     <p><b>Fleet provisioning by claim</b></p>
     <div class="itemizedlist">
       
       
     <ul class="itemizedlist"><li class="listitem">
       <p>Provisioning by authorized users</p>
       <div class="itemizedlist">
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p>You need to create an IAM role and policy specific to your organization's device
          provisioning workflow(s) so end users can provision devices to managed integrations. For more
          information on creating IAM roles and policies for this workflow, see <a href="https://docs.aws.amazon.com/iot/latest/developerguide/provision-create-role.html">Creating IAM policies and roles for a user installing a device</a>.</p>
        </li><li class="listitem">
         <p><b>Workflow</b></p>
         <div class="itemizedlist">
           
           
           
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p><code class="code">CreateKeysAndCertificate</code>: To create a provisional claim certificate
            and key for a device.</p>
          </li><li class="listitem">
           <p><code class="code">CreatePolicy</code>: To create policies that define the permissions for the
            device.</p>
          </li><li class="listitem">
           <p><code class="code">AttachPolicy</code>: To attach the policy to the provisional claim
            certificate.</p>
          </li><li class="listitem">
           <p><code class="code">CreateProvisioningTemplate</code>: To create a provisioning template that
            defines how the device is provisioned.</p>
          </li><li class="listitem">
           <p><code class="code">RegisterThing</code>: Part of the device provisioning process that registers
            a new thing (device) in the IoT registry, based on the provisioning template.</p>
          </li><li class="listitem">
           <p>Additionally, when a device connects to AWS IoT Core for the first time using the
            provisioning claim, it utilizes MQTT or HTTPS protocols for secure communication. During
            this process, AWS IoT Core's internal mechanisms validate the claim, apply the
            provisioning template, and complete the provisioning process.</p>
          </li></ul></div>
        </li></ul></div>
      </li><li class="listitem">
       <p>Provisioning with claim certificates</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p>You need to create a claim certificate provisioning policy that is attached to each
          device claim certificate for initial contact with managed integrations and then it's replaced with a
          device-specific certificate. To complete the provisioning with claim certificate workflow,
          you must send the hardware serial number to the MQTT reserved topic.</p>
        </li><li class="listitem">
         <p><b>Workflow</b></p>
         <div class="itemizedlist">
           
           
           
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p><code class="code">CreateKeysAndCertificate</code>: To create a provisional claim certificate
            and key for a device.</p>
          </li><li class="listitem">
           <p><code class="code">CreatePolicy</code>: To create policies that define the permissions for the
            device.</p>
          </li><li class="listitem">
           <p><code class="code">AttachPolicy</code>: To attach the policy to the provisional claim
            certificate.</p>
          </li><li class="listitem">
           <p><code class="code">CreateProvisioningTemplate</code>: To create a provisioning template that
            defines how the device is provisioned.</p>
          </li><li class="listitem">
           <p><code class="code">RegisterThing</code>: Part of the device provisioning process that registers
            a new thing (device) in the IoT registry, based on the provisioning template.</p>
          </li><li class="listitem">
           <p>Additionally, when a device connects to AWS IoT Core for the first time using the
            provisioning claim, it utilizes MQTT or HTTPS protocols for secure communication. During
            this process, AWS IoT Core's internal mechanisms validate the claim, apply the
            provisioning template, and complete the provisioning process.</p>
          </li></ul></div>
        </li><li class="listitem">
         <p>For more information on Provisioning by claim certificates, see <a href="https://docs.aws.amazon.com/iot/latest/developerguide/provision-wo-cert.html#claim-based">Provisioning by claim</a>.</p>
        </li></ul></div>
      </li></ul></div>
    </li></ul></div>
   <p>For more information on provisioning templates, see <a href="https://docs.aws.amazon.com/iot/latest/developerguide/provision-template.html">Provisioning templates</a>.</p>
   <p>APIs used in this step:</p>
   <div class="itemizedlist">
     
     
     
     
     
     
     
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">CreateManagedThing</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateProvisioningProfile</code></p>
    </li><li class="listitem">
     <p><code class="code">RegisterCACertificate</code></p>
    </li><li class="listitem">
     <p><code class="code">CreatePolicy</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateThing</code></p>
    </li><li class="listitem">
     <p><code class="code">AttachPolicy</code></p>
    </li><li class="listitem">
     <p><code class="code">AttachThingPrincipal</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateKeysAndCertificate</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateProvisioningTemplate</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-unified-sdk">Managed integrations End device SDK (Mandatory)</h2>
   <p>During initial manufacturing, add the End device SDK in your device's firmware. Add the
    encryption key, custom endpoint address, setup credentials, claim certificate if applicable, and
    provisioning template you just created to the End device SDK for managed integrations to support device
    provisioning for the end-user.</p>
   <p>For more information on the End device SDK, see <a href="./managedintegrations-sdk-device-whatis.html">What is the End device SDK?</a></p>
   
   <h2 id="known-sh-device-device-pre-association">Device Pre-Association with Credential
     Locker (Optional)</h2>
   <p>During the fulfillment process, the device's barcode is scanned to upload the device's
    information to managed integrations. This will automatically call the <code class="code">CreateManagedThing</code> API
    and create the Managed Thing, a digital representation of the physical device stored in
    managed integrations. Additionally, the <code class="code">CreateManagedThing</code> API will automatically return
    the <code class="code">deviceID</code> for use during device provisioning.</p>
   <p>The owner's information can be included in the <code class="code">CreateManagedThing</code> request
    message if available. Including this owner information allows the retrieval of the setup
    credentials and predefined device capabilities for inclusion in the <code class="code">managedThing</code>
    stored in managed integrations. This supports reduced time to provision your device or fleet of devices
    with managed integrations.</p>
   <p>If the owner's information is not available, the <code class="code">owner</code> parameter in the
     <code class="code">CreateManagedThing</code> API call will be left blank and updated during device
    onboarding when the device is turned on.</p>
   <p>APIs used during this step:</p>
   <div class="itemizedlist">
     
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">CreateManagedThing</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-device-discovery">Device Discovery and Onboarding
     (Optional)</h2>
   <p>After the end-user turns on the device or sets it to pairing mode if required, the
    following discovery and onboarding workflows will be available:</p>
   <div class="variablelist">
     
     
   
   <dl>
     <dt><b><span class="term">Simple setup (SS)</span></b></dt>
     <dd>
      <p>The end-user powers on the IoT device and scans its QR code using the managed integrations app. The
       app enrolls the device on the managed integrations cloud and connects it to the IoT Hub.</p>
     </dd>
    
     <dt><b><span class="term">User guided Setup (UGS)</span></b></dt>
     <dd>
      <p>The end-user powers on the device and follows interactive steps to onboard it to
       managed integrations. This might include pressing a button on the IoT Hub, using the managed integrations app, or
       pressing buttons on both the hub and device. Use this method if Simple setup fails.</p>
     </dd>
    </dl></div>
   
   <div class="itemizedlist">
     
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p><b>Smart device:</b> It will automatically begin connecting to
      the local Hub device where the Hub device will share the local network credentials and SSID
      and associate the Wi-Fi device to the local Hub device. Next, the smart device will attempt
      connecting to the custom endpoint you created earlier using the Server Name Indication (SNI)
      extension.</p>
    </li><li class="listitem">
     <p><b>Wi-Fi device without smart capabilities:</b> The Wi-Fi
      device will automatically call the <code class="code">StartDeviceDiscovery</code> API to begin the pairing
      process between Wi-Fi device and local Hub device in addition to the local Hub device
      associating the Wi-Fi device to it. Next, the Wi-Fi device will attempt connecting to the
      custom endpoint you created earlier using the Server Name Indication (SNI) extension.</p>
    </li><li class="listitem">
     <p><b>Wi-Fi device without mobile application setup:</b> On the
      local Hub device, enable it to start receiving all radio protocols such as Wi-Fi. The Wi-Fi
      device will automatically connect to the local Hub device and then the local Hub device will
      associate the Wi-Fi device to it. Next, the Wi-Fi device will attempt connecting to the custom
      endpoint you created earlier using the Server Name Indication (SNI) extension.</p>
    </li></ul></div>
   <p>API used in this step:</p>
   <div class="itemizedlist">
     
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">StartDeviceDiscovery</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-device-command-control">Device Command and Control</h2>
   <p>Once device onboarding is completed, you can begin sending and receiving device commands
    for managing your devices. The following list illustrates some of the scenarios for managing
    your devices:</p>
   <div class="itemizedlist">
     
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p><b>Sending device commands:</b> Send and receive commands from
      your devices for managing the lifecycle of the devices.</p>
     <div class="itemizedlist">
       
      
     <ul class="itemizedlist"><li class="listitem">
       <p>Sampling of APIs used: <code class="code">SendManagedThingCommand</code>.</p>
      </li></ul></div>
    </li><li class="listitem">
     <p><b>Updating device state:</b> Update the state of the device
      based on the device capabilities and device commands sent.</p>
     <div class="itemizedlist">
       
      
     <ul class="itemizedlist"><li class="listitem">
       <p>Sampling of APIs used: <code class="code">GetManagedThingState</code>,
         <code class="code">ListManagedThingState</code>, <code class="code">UpdateManagedThing</code>, and
         <code class="code">DeleteManagedThing</code>.</p>
      </li></ul></div>
    </li><li class="listitem">
     <p><b>Receive Device Events:</b> Receive events about a C2C device
      from a third-party cloud provider that are sent to managed integrations.</p>
     <div class="itemizedlist">
       
      
     <ul class="itemizedlist"><li class="listitem">
       <p>Sampling of APIs used: <code class="code">SendDeviceEvent</code>, <code class="code">CreateLogLevel</code>,
         <code class="code">CreateNotificationConfiguration</code>.</p>
      </li></ul></div>
    </li></ul></div>
   
   <p>APIs used in this step:</p>
   <div class="itemizedlist">
     
     
     
     
     
     
     
     
    
   <ul class="itemizedlist"><li class="listitem">
     <p><code class="code">SendManagedThingCommand</code></p>
    </li><li class="listitem">
     <p><code class="code">GetManagedThingState</code></p>
    </li><li class="listitem">
     <p><code class="code">ListManagedThingState</code></p>
    </li><li class="listitem">
     <p><code class="code">UpdateManagedThing</code></p>
    </li><li class="listitem">
     <p><code class="code">DeleteManagedThing</code></p>
    </li><li class="listitem">
     <p><code class="code">SendDeviceEvent</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateLogLevel</code></p>
    </li><li class="listitem">
     <p><code class="code">CreateNotificationConfiguration</code></p>
    </li></ul></div>
   
   <h2 id="known-sh-device-onboarding-api-index">API Index</h2>
   <p>For more information on the managed integrations APIs, see the <em>managed integrations API Reference
     Guide</em>.</p>
   <p>For more information on the AWS IoT Core APIs, see the <a href="https://docs.aws.amazon.com/iot/latest/apireference/Welcome.html"><em>AWS IoT Core API
      Reference Guide</em></a>.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./getting-started.html">Getting started</div><div id="next" class="next-link" accesskey="n" href="./getting-started-hub-connected-device-onboarding.html">Hub-connected device
    onboarding</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot-mi/latest/devguide/getting-started-known-sh-device-onboarding.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>